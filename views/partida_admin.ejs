<!DOCTYPE html>
<html>
    <head>
        <title>TIM-BEAR</title>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
    </head>
    <body class="container">
        <%- include('menu') %>

        <h2>Administrar Partidas</h2>
        <a class="btn btn-success" href="/partidas/admin">Administrar Partidas</a>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Juego</th>
                    <th>Fecha</th>
                    <th>Hora Inicio</th>
                    <th>Duracion</th>
                    <th>Estado</th>
                    <th>Equipo A</th>
                    <th>Equipo B</th>
                    <th>Factor A</th>
                    <th>Factor X</th>
                    <th>Factor B</th>
                    <th>Resultado</th>
                </tr>
            </thead>
            <tbody>
                <% partidas.forEach( (partida) => { %>
                    <tr>
                        <td><%= partida.id %></td>
                        <td>
                            <%= 
                            <select id="Juego">

                                <%
                                var options = [ "Futbol", "Baloncesto", "Hockey"];
                                for ( var i = 0; i < options.length; i++ )
                                {
                                    var jselected = ( config[0].juego == i ) ? "selected" : "";
                                    %><option value="<%=options[ i ] %>" <%=jselected %>><%=i %></option><%
                                }
                                %>
                            </select> 
                            %>
                        </td>
                        <td><%= parrtida.fecha %></td>
                        <td><%= partida.hora_inicio %></td>
                        <td><%= partida.duracion %></td>
                        <td><%= partida.estado %></td>
                        <td><%= partida.equipo_A %></td>
                        <td><%= partida.equipo_B %></td>
                        <td><%= partida.factor_A %></td>
                        <td><%= partida.factor_X %></td>
                        <td><%= partida.factor_B %></td>
                        <td>
                            <%= 
                            <select id="Resultado">

                                <%
                                var options = [ "Equipo A", "Equipo B", "Empate","Pendiente"];
                                for ( var i = 0; i < options.length; i++ )
                                {
                                    var rselected = ( config[0].resultado == i ) ? "selected" : "";
                                    %><option value="<%=options[ i ] %>" <%=rselected %>><%=i %></option><%
                                }
                                %>
                            </select> 
                            %>
                        </td>
                        <td>
                            <a href="/partidas/crear/<%= partida.id %>" >Crear</a>
                            <a href="/partidas/editar/<%= partida.id %>" >Editar</a>
                            <a href="/partidas/eliminar/<%= partida.id %>" >Eliminar</a>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>

        <%- include('footer') %>
    </body>
</html>